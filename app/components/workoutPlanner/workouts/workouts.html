<!--<div class="stats-wrapper">-->
  <!--<div>-->
    <!--<h4>some info: </h4>-->
    <!--<span>-->
      <!--some info-->
    <!--</span>-->
  <!--</div>-->
<!--</div>-->

<!--<div class="general-errors-wrapper">-->
  <!--<span class="fas fa-exclamation-triangle"></span>-->
  <!--<span class="general_errors">-->
    <!--error-->
  <!--</span>-->
<!--</div>-->

<table class="workouts">
  <thead>
    <tr class="table100-head">
      <th class="column">Workout plan</th>
      <th class="column">Assigned to</th>
      <th class="column">Exercises</th>
      <th class="column">Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="workout_plan in $ctrl.workout_plans">
      <td class="column">{{ workout_plan.name || 'none' }}</td>
      <td class="column">
        <span ng-repeat="user in workout_plan.users">
          {{ user.full_name }} {{ $last ? '' : ', ' }}
        </span>
      </td>
      <td class="column exercises">
        <span ng-repeat="exercise in workout_plan.workout_exercises">
          {{ exercise.name }} {{ $last ? '' : ', ' }}
        </span>
      </td>
      <td class="column">
        <span class="label label-success edit" ng-click="$ctrl.openWorkoutPlanEditModal(workout_plan)">edit <i class="fas fa-edit"></i></span>
      </td>
    </tr>
  </tbody>
</table>

<script type="text/ng-template" id="workoutPlanEditModalContent.html">
  <div class="modal-header">
    <h3 class="modal-title" id="modal-title">Edit Workout Plan</h3>
  </div>
  <div class="modal-body" id="modal-body">

    <form>
      <div class="form-group">
        <label for="workoutPlanName">Name</label>
        <input type="text" class="form-control" id="workoutPlanName" placeholder="Plan name" ng-model="$ctrl.workout_plan.name">
        <small class="form-text text-muted error" ng-repeat="error in $ctrl.errors.name">
          {{ error }} {{ $last ? '' : ', ' }}
        </small>
      </div>
      <div class="form-group">
        <label for="workoutPlanUsers">Users</label>
        <select id="workoutPlanUsers" class="form-control" multiple autofocus="true"
          ng-options="item.pk as item.full_name for item in $ctrl.workout_plan.all_users"
          ng-model="$ctrl.selected_users">
        </select>
      </div>
      <div class="form-group">
        <label for="workoutPlanExercises">Exercises</label>
        <select id="workoutPlanExercises" class="form-control" multiple
          ng-options="item.pk as item.name for item in $ctrl.workout_plan.all_exercises"
          ng-model="$ctrl.selected_exercises">
        </select>
      </div>
    </form>

  </div>  <!--/modal body-->
  <div class="modal-footer">
    <button class="btn btn-primary" type="button" ng-click="$ctrl.updateWorkoutPlan($ctrl.workout_plan, $ctrl.selected_users, $ctrl.selected_exercises)">Save</button>
    <button class="btn btn-warning" type="button" ng-click="$ctrl.cancel()">Cancel</button>
  </div>
</script>
